# 테스트 케이스
프로젝트명: Next.js + TipTap 기반 Markdown 에디터

## 1. 문서 목적
본 문서는 기능 요구서(PRD)와 기술 요구서(TRD)를 기반으로
Markdown 에디터의 기능이 정상적으로 동작하는지를 검증하기 위한
테스트 케이스를 정의한다.

---

## 2. 테스트 환경

### 2.1 공통 환경
- 브라우저: Chrome 최신 버전
- OS: Windows, macOS
- 프레임워크: Next.js App Router
- 에디터: TipTap
- 서버: Next.js API Route
- 저장 포맷: Markdown 파일

---

## 3. Markdown 변환 테스트

### TC-MD-01 Editor to Markdown 자동 변환
- 사전 조건
  - 에디터가 초기화되어 있음
- 테스트 절차
  1. 에디터에 텍스트를 입력한다.
  2. 입력 후 추가 동작 없이 대기한다.
- 기대 결과
  - Markdown 텍스트 영역에 입력 내용이 즉시 반영된다.
  - 내용 손실 없이 동일한 문장이 유지된다.

### TC-MD-02 Markdown to Editor 반영
- 사전 조건
  - Markdown 텍스트 영역이 활성화되어 있음
- 테스트 절차
  1. Markdown 텍스트 영역의 내용을 수정한다.
  2. Markdown → 에디터 반영 버튼을 클릭한다.
- 기대 결과
  - 에디터 내용이 Markdown 기준으로 재구성된다.
  - 에디터와 Markdown 내용이 동일하다.

---

## 4. Markdown 파일 입출력 테스트

### TC-FILE-01 Markdown 파일 불러오기
- 사전 조건
  - 로컬에 md 파일이 존재함
- 테스트 절차
  1. Markdown 파일 불러오기 버튼을 클릭한다.
  2. md 파일을 선택한다.
- 기대 결과
  - Markdown 텍스트 영역에 파일 내용이 표시된다.
  - 에디터에도 동일한 내용이 반영된다.

### TC-FILE-02 Markdown 파일 저장
- 사전 조건
  - 에디터 또는 Markdown 영역에 내용이 존재함
- 테스트 절차
  1. md로 저장 버튼을 클릭한다.
- 기대 결과
  - md 파일이 다운로드된다.
  - 파일 인코딩은 UTF-8이다.

---

## 5. 코드블럭 기능 테스트

### TC-CODE-01 코드블럭 생성
- 사전 조건
  - 에디터가 활성화되어 있음
- 테스트 절차
  1. 일반 텍스트를 입력한다.
  2. 코드블럭 버튼을 클릭한다.
- 기대 결과
  - 선택 영역이 코드블럭으로 변환된다.

### TC-CODE-02 코드 하이라이트 적용
- 사전 조건
  - 코드블럭이 생성되어 있음
- 테스트 절차
  1. 코드블럭에 코드 내용을 입력한다.
- 기대 결과
  - 코드에 문법 하이라이트가 적용된다.

### TC-CODE-03 코드블럭 Markdown 저장 형식
- 사전 조건
  - 코드블럭에 코드가 입력되어 있음
- 테스트 절차
  1. Markdown 내용을 확인한다.
- 기대 결과
  - 코드블럭이 fenced code block 규칙에 맞는 형태로 저장된다.
  - 언어 식별자가 유지된다.

---

## 6. 이미지 업로드 테스트

### TC-IMG-01 버튼 기반 이미지 업로드
- 사전 조건
  - 이미지 파일이 로컬에 존재함
- 테스트 절차
  1. 이미지 업로드 버튼을 클릭한다.
  2. 이미지 파일을 선택한다.
- 기대 결과
  - 이미지가 서버에 업로드된다.
  - 에디터에 이미지가 삽입된다.
  - Markdown에는 이미지 문법이 반영된다.

### TC-IMG-02 드래그 앤 드롭 이미지 업로드
- 사전 조건
  - 이미지 파일이 로컬에 존재함
- 테스트 절차
  1. 이미지 파일을 에디터로 드래그한다.
  2. 에디터 영역에 드롭한다.
- 기대 결과
  - 이미지가 자동으로 업로드된다.
  - 드롭 위치에 이미지가 삽입된다.

### TC-IMG-03 클립보드 이미지 붙여넣기
- 사전 조건
  - 클립보드에 이미지가 복사되어 있음
- 테스트 절차
  1. 에디터에 포커스를 둔다.
  2. 붙여넣기 동작을 수행한다.
- 기대 결과
  - 이미지가 서버에 업로드된다.
  - 에디터에 이미지가 삽입된다.

---

## 7. HTML 이미지 붙여넣기 테스트

### TC-HTML-01 data URL 이미지 처리
- 사전 조건
  - 클립보드 HTML에 data URL 이미지가 포함됨
- 테스트 절차
  1. 에디터에 붙여넣기 동작을 수행한다.
- 기대 결과
  - data URL 이미지가 File로 변환된다.
  - 서버 업로드 후 이미지가 삽입된다.

### TC-HTML-02 외부 URL 이미지 처리 성공
- 사전 조건
  - 외부 URL 이미지가 포함된 HTML을 복사함
- 테스트 절차
  1. 에디터에 붙여넣기 동작을 수행한다.
- 기대 결과
  - 이미지 fetch에 성공하면 서버에 업로드된다.
  - 에디터에 이미지가 삽입된다.

### TC-HTML-03 외부 URL 이미지 처리 실패
- 사전 조건
  - 외부 URL 이미지가 포함된 HTML을 복사함
- 테스트 절차
  1. 에디터에 붙여넣기 동작을 수행한다.
- 기대 결과
  - fetch 실패 시 이미지가 삽입되지 않는다.
  - 에디터는 정상 동작을 유지한다.

---

## 8. 중복 삽입 방지 테스트

### TC-DUP-01 파일과 HTML 이미지 중복 방지
- 사전 조건
  - 하나의 붙여넣기 이벤트에 동일 이미지가
    파일과 HTML 형태로 동시에 포함됨
- 테스트 절차
  1. 에디터에 붙여넣기 동작을 수행한다.
- 기대 결과
  - 이미지는 한 번만 삽입된다.
  - 중복된 이미지 노드는 생성되지 않는다.

---

## 9. 안정성 테스트

### TC-STAB-01 업로드 실패 처리
- 사전 조건
  - 서버 업로드 API가 실패하도록 설정됨
- 테스트 절차
  1. 이미지 업로드를 시도한다.
- 기대 결과
  - 에디터가 비정상 종료되지 않는다.
  - 오류가 사용자 또는 로그로 확인 가능하다.

### TC-STAB-02 연속 붙여넣기
- 사전 조건
  - 여러 이미지를 연속으로 붙여넣기 가능
- 테스트 절차
  1. 이미지를 연속으로 여러 번 붙여넣는다.
- 기대 결과
  - 모든 이미지가 순차적으로 처리된다.
  - 에디터 상태가 손상되지 않는다.

---

## 10. 테스트 범위 외 항목
- 실시간 협업 기능
- 권한 기반 접근 제어
- AI 자동 생성 기능

위 항목은 본 테스트 케이스 범위에 포함되지 않는다.
