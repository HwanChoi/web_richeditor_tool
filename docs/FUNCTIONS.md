# 기능-테스트 매핑표
프로젝트명: Next.js + TipTap 기반 Markdown 에디터

## 1. 문서 목적
본 문서는 기능 요구사항(PRD)에 정의된 기능 항목과
테스트 케이스 문서에 정의된 테스트 케이스를 1:1 또는 1:N으로 매핑한다.
이를 통해 요구사항 누락, 테스트 누락, 중복 테스트를 빠르게 식별한다.

---

## 2. 매핑 규칙
- 기능 ID는 본 문서에서 정의한 식별자이다.
- 테스트 케이스 ID는 테스트 케이스 문서의 ID를 사용한다.
- 하나의 기능은 여러 테스트 케이스로 검증될 수 있다.
- 하나의 테스트 케이스가 여러 기능을 간접 검증할 수 있으나,
  본 매핑표에서는 주 검증 대상 기능을 기준으로 연결한다.

---

## 3. 기능 목록(요약)
- F-MD-01 Editor to Markdown 자동 변환
- F-MD-02 Markdown to Editor 반영
- F-FILE-01 Markdown 파일 불러오기
- F-FILE-02 Markdown 파일 저장
- F-CODE-01 코드블럭 생성/토글
- F-CODE-02 코드 하이라이트 적용
- F-CODE-03 코드블럭 fenced code block 저장 보장
- F-IMG-01 버튼 기반 이미지 업로드 및 삽입
- F-IMG-02 드래그 앤 드롭 이미지 업로드 자동화
- F-IMG-03 클립보드 이미지 붙여넣기 업로드 자동화
- F-HTML-01 HTML 내 data URL 이미지 업로드 통일
- F-HTML-02 HTML 내 외부 URL 이미지 업로드 통일
- F-DUP-01 중복 삽입 방지
- F-STAB-01 업로드 실패 시 안정성 보장
- F-STAB-02 연속 붙여넣기 안정성 보장

---

## 4. 기능-테스트 매핑표

| 기능 ID | 기능명 | 테스트 케이스 ID | 검증 포인트 |
| --- | --- | --- | --- |
| F-MD-01 | Editor to Markdown 자동 변환 | TC-MD-01 | 편집 즉시 Markdown 갱신, 내용 손실 없음 |
| F-MD-02 | Markdown to Editor 반영 | TC-MD-02 | Markdown 적용 시 에디터 내용 재구성, 동기화 |
| F-FILE-01 | Markdown 파일 불러오기 | TC-FILE-01 | md 로드 후 Markdown/에디터 동시 반영 |
| F-FILE-02 | Markdown 파일 저장 | TC-FILE-02 | md 다운로드, UTF-8, 내용 동일 |
| F-CODE-01 | 코드블럭 생성/토글 | TC-CODE-01 | 버튼 동작으로 코드블럭 토글 |
| F-CODE-02 | 코드 하이라이트 적용 | TC-CODE-02 | 하이라이트 표시, CSS 테마 적용 여부 |
| F-CODE-03 | fenced code block 저장 보장 | TC-CODE-03 | Markdown에 fenced 규칙 유지, 언어 식별 유지 |
| F-IMG-01 | 버튼 기반 이미지 업로드 | TC-IMG-01 | 업로드 성공, 에디터 삽입, Markdown 반영 |
| F-IMG-02 | 드래그 앤 드롭 업로드 | TC-IMG-02 | 드롭 시 자동 업로드, 위치 삽입 |
| F-IMG-03 | 클립보드 이미지 붙여넣기 | TC-IMG-03 | paste 시 자동 업로드, 삽입 |
| F-HTML-01 | data URL 이미지 업로드 통일 | TC-HTML-01 | data URL 변환 후 업로드, 삽입 |
| F-HTML-02 | 외부 URL 이미지 업로드 통일 | TC-HTML-02 | fetch 성공 시 업로드, 삽입 |
| F-HTML-02 | 외부 URL 이미지 업로드 통일 (실패 케이스) | TC-HTML-03 | fetch 실패 시 미삽입, 에디터 정상 |
| F-DUP-01 | 중복 삽입 방지 | TC-DUP-01 | 동일 이미지 1회만 삽입, 기본 paste 차단 |
| F-STAB-01 | 업로드 실패 시 안정성 | TC-STAB-01 | 실패 시 크래시 없음, 오류 확인 가능 |
| F-STAB-02 | 연속 붙여넣기 안정성 | TC-STAB-02 | 연속 처리, 상태 손상 없음 |

---

## 5. 커버리지 점검 항목
- 모든 기능 ID가 최소 1개 이상의 테스트 케이스와 매핑되어야 한다.
- 코드블럭, 이미지 업로드, 붙여넣기 처리의 실패 케이스는 반드시 포함해야 한다.
- 중복 삽입 방지 기능은 파일 기반, HTML 기반 모두에서 검증해야 한다.

---

## 6. 개선 제안 테스트(선택)
- TC-SEC-01 비이미지 파일 업로드 차단 테스트
- TC-LIMIT-01 대용량 이미지 업로드 제한 테스트
- TC-UX-01 업로드 진행 표시 및 사용자 피드백 테스트

위 항목은 현재 범위 외이나 운영 환경에서는 권장된다.
